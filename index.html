<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Latvian VAT Calculator (21%)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'latvia-blue': '#164F98',
                        'latvia-red': '#AB303F',
                        'neutral-light': '#F7F8FA',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        /* Custom styles for better aesthetics */
        body {
            background-color: #e5e7eb; /* Light gray background */
            font-family: 'Inter', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 1rem;
        }
        .input-group input {
            transition: border-color 0.2s, box-shadow 0.2s;
        }
        .input-group input:focus {
            border-color: #164F98;
            box-shadow: 0 0 0 3px rgba(22, 79, 152, 0.3);
        }
        .result-card {
            border-left: 4px solid #AB303F;
        }
    </style>
</head>
<body>

    <div id="app" class="w-full max-w-lg bg-white p-6 sm:p-8 rounded-xl shadow-2xl space-y-6">
        
        <!-- Header -->
        <header class="text-center pb-4 border-b border-gray-100">
            <h1 class="text-3xl font-extrabold text-gray-800">Latvian VAT Calculator</h1>
            <p class="text-latvia-red font-semibold mt-1 text-lg">Standard Rate: 21%</p>
        </header>

        <div class="space-y-4">
            
            <!-- Input: Price WITHOUT VAT (Net) -->
            <div class="input-group">
                <label for="netAmount" class="block text-sm font-medium text-gray-700 mb-1">Price WITHOUT VAT (Net Price)</label>
                <div class="relative rounded-lg shadow-sm">
                    <div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3">
                        <span class="text-gray-500">€</span>
                    </div>
                    <input type="number" id="netAmount" placeholder="Enter amount" oninput="handleInput('net')"
                           class="block w-full rounded-lg border border-gray-300 pl-10 pr-4 py-2 text-lg focus:outline-none"
                           min="0" step="0.01">
                </div>
            </div>

            <div class="text-center text-lg font-bold text-gray-500">OR</div>

            <!-- Input: Price INCLUDING VAT (Gross) -->
            <div class="input-group">
                <label for="grossAmount" class="block text-sm font-medium text-gray-700 mb-1">Price INCLUDING VAT (Gross Price)</label>
                <div class="relative rounded-lg shadow-sm">
                    <div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3">
                        <span class="text-gray-500">€</span>
                    </div>
                    <input type="number" id="grossAmount" placeholder="Enter amount" oninput="handleInput('gross')"
                           class="block w-full rounded-lg border border-gray-300 pl-10 pr-4 py-2 text-lg focus:outline-none"
                           min="0" step="0.01">
                </div>
            </div>
        </div>

        <!-- Results Display -->
        <div id="results" class="space-y-4 pt-4 border-t border-gray-100">
            <h2 class="text-xl font-semibold text-latvia-blue">Calculation Results</h2>
            
            <!-- VAT Amount -->
            <div class="result-card bg-neutral-light p-4 rounded-lg shadow-inner flex justify-between items-center">
                <span class="font-medium text-gray-700">VAT (21%) Amount:</span>
                <span id="vatAmountDisplay" class="text-2xl font-bold text-latvia-red">€0.00</span>
            </div>
            
            <!-- Net Price -->
            <div class="result-card bg-neutral-light p-4 rounded-lg shadow-inner flex justify-between items-center">
                <span class="font-medium text-gray-700">Net Price:</span>
                <span id="netResultDisplay" class="text-xl font-bold text-gray-800">€0.00</span>
            </div>

            <!-- Gross Price -->
            <div class="result-card bg-neutral-light p-4 rounded-lg shadow-inner flex justify-between items-center">
                <span class="font-medium text-gray-700">Gross Price:</span>
                <span id="grossResultDisplay" class="text-xl font-bold text-gray-800">€0.00</span>
            </div>
            
        </div>

        <!-- Error/Info Message Box -->
        <div id="messageBox" class="hidden p-3 rounded-lg bg-yellow-100 text-yellow-700 border border-yellow-300 text-sm">
            Please enter a positive numeric value in one of the fields.
        </div>
        
    </div>

    <script>
        // Constants for Latvian VAT
        const VAT_RATE = 0.21; // 21%
        const VAT_FACTOR = 1 + VAT_RATE;

        // Get DOM elements
        const netInput = document.getElementById('netAmount');
        const grossInput = document.getElementById('grossAmount');
        const vatDisplay = document.getElementById('vatAmountDisplay');
        const netResultDisplay = document.getElementById('netResultDisplay');
        const grossResultDisplay = document.getElementById('grossResultDisplay');
        const messageBox = document.getElementById('messageBox');

        /**
         * Formats a number to a currency string with 2 decimal places and the Euro symbol.
         * @param {number} amount - The numeric amount.
         * @returns {string} - The formatted string (e.g., "€12.34").
         */
        const formatCurrency = (amount) => {
            if (isNaN(amount) || amount === null) return '€0.00';
            return `€${amount.toFixed(2)}`;
        };

        /**
         * Clears all displays and results.
         */
        const clearResults = () => {
            vatDisplay.textContent = formatCurrency(0);
            netResultDisplay.textContent = formatCurrency(0);
            grossResultDisplay.textContent = formatCurrency(0);
            messageBox.classList.add('hidden');
        };

        /**
         * Main calculation handler.
         * @param {string} source - 'net' or 'gross' to indicate which field triggered the calculation.
         */
        function handleInput(source) {
            let inputElement = (source === 'net') ? netInput : grossInput;
            let value = parseFloat(inputElement.value);

            // Clear the other input field to ensure only one calculation path is active
            if (source === 'net') {
                grossInput.value = '';
            } else {
                netInput.value = '';
            }
            
            // Handle invalid or empty input
            if (isNaN(value) || value <= 0) {
                clearResults();
                if (inputElement.value !== '') {
                    messageBox.classList.remove('hidden');
                }
                return;
            }

            messageBox.classList.add('hidden');

            let net = 0;
            let gross = 0;
            
            if (source === 'net') {
                // Calculation: Net to Gross
                net = value;
                gross = net * VAT_FACTOR;
            } else {
                // Calculation: Gross to Net
                gross = value;
                net = gross / VAT_FACTOR;
            }

            // Calculate VAT amount
            const vatAmount = gross - net;

            // Update displays
            vatDisplay.textContent = formatCurrency(vatAmount);
            netResultDisplay.textContent = formatCurrency(net);
            grossResultDisplay.textContent = formatCurrency(gross);
        }

        // Initialize display on load
        clearResults();

        // Optional: Pre-populate an initial value for demonstration
        netInput.value = '100.00';
        handleInput('net');

    </script>
</body>
</html>
